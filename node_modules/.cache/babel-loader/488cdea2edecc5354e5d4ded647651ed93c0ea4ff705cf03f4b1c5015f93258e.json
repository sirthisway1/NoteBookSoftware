{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"modal-overlay\"\n};\nconst _hoisted_2 = {\n  class: \"modal-content\"\n};\nconst _hoisted_3 = {\n  class: \"modal-header\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"新建笔记\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"modal-body\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", null, \"请选择笔记本:\", -1 /* HOISTED */);\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", null, \"输入笔记名称:\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.visible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"button\", {\n    class: \"close-button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, \"✖\")]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedNotebook = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.notebooks, notebook => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: notebook.notebookId,\n      value: notebook.name\n    }, _toDisplayString(notebook.name), 9 /* TEXT, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedNotebook]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.noteName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.noteName]])])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    class: \"confirm-button\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.confirm && $options.confirm(...args))\n  }, \"确认\")])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","_createElementVNode","$props","visible","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","$options","closeModal","_hoisted_5","_hoisted_6","_hoisted_7","$event","$data","selectedNotebook","_Fragment","_renderList","notebooks","notebook","notebookId","value","name","_hoisted_8","_hoisted_9","_hoisted_10","type","noteName","_hoisted_11","confirm","_createCommentVNode"],"sources":["D:\\VUEitem\\front\\src\\components\\CreateNoteModal.vue"],"sourcesContent":["<!-- 新建笔记的弹窗 -->\r\n\r\n<template>\r\n  <div v-if=\"visible\" class=\"modal-overlay\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h3>新建笔记</h3>\r\n        <button class=\"close-button\" @click=\"closeModal\">✖</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"form-group\">\r\n          <label>请选择笔记本:</label>\r\n          <select v-model=\"selectedNotebook\">\r\n            <option v-for=\"notebook in notebooks\" :key=\"notebook.notebookId\" :value=\"notebook.name\">\r\n              {{ notebook.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>输入笔记名称:</label>\r\n          <input type=\"text\" v-model=\"noteName\">\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button class=\"confirm-button\" @click=\"confirm\">确认</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      //notebooks[];\r\n      //下为测试数据\r\n      notebooks:[\r\n      { notebookId: 1, name: 'Notebook 1', summary: 'This is the first notebook', lastModified: '2023-06-01T12:00:00Z' },\r\n      { notebookId: 2, name: 'Notebook 2', summary: 'This is the second notebook', lastModified: '2023-06-02T12:00:00Z' },\r\n      { notebookId: 3, name: 'Notebook 3', summary: 'This is the third notebook', lastModified: '2023-06-03T12:00:00Z' },\r\n      { notebookId: 4, name: 'Notebook 4', summary: 'This is the fourth notebook', lastModified: '2023-06-04T12:00:00Z' },\r\n      { notebookId: 5, name: 'Notebook 5', summary: 'This is the fifth notebook', lastModified: '2023-06-05T12:00:00Z' },\r\n      { notebookId: 6, name: 'Notebook 6', summary: 'This is the sixth notebook', lastModified: '2023-06-06T12:00:00Z' },\r\n      ],\r\n      selectedNotebook: '',\r\n      noteName: '',\r\n    };\r\n  },\r\n  methods: {\r\n    // async fetchNotebooks() {\r\n      // const token = localStorage.getItem('token');\r\n      // if (!token) {\r\n      //   alert('请先登录');\r\n      //   return;\r\n      // }\r\n\r\n    //   try {\r\n    //     const response = await fetch('/api/notebooks', {\r\n    //       method: 'GET',\r\n    //       headers: {\r\n    //         'Authorization': `Bearer ${token}`\r\n    //       }\r\n    //     });\r\n\r\n    //     const data = await response.json();\r\n    //     if (data.code === 200) {\r\n    //       const notebookIds = data.data.notebookIds;\r\n    //       this.notebooks = await Promise.all(notebookIds.map(id => this.fetchNotebookDetails(id)));\r\n    //     } else {\r\n    //       alert('获取笔记本ID列表失败');\r\n    //     }\r\n    //   } catch (error) {\r\n    //     console.error('获取笔记本ID列表时出错:', error);\r\n    //   }\r\n    // },\r\n    // async fetchNotebookDetails(notebookId) {\r\n    //   const token = localStorage.getItem('token');\r\n    //   try {\r\n    //     const response = await fetch(`/api/notebooks/${notebookId}`, {\r\n    //       method: 'GET',\r\n    //       headers: {\r\n    //         'Authorization': `Bearer ${token}`\r\n    //       }\r\n    //     });\r\n\r\n    //     const data = await response.json();\r\n    //     if (data.code === 200) {\r\n    //       return data.data;\r\n    //     } else if (data.code === 405) {\r\n    //       alert(`获取笔记本详细信息失败: ${data.message}`);\r\n    //       return null;\r\n    //     } else {\r\n    //       alert(`获取笔记本详细信息失败: ${data.message}`);\r\n    //       return null;\r\n    //     }\r\n    //   } catch (error) {\r\n    //     console.error(`获取ID为 ${notebookId} 的笔记本详情时出错:`, error);\r\n    //     return null;\r\n    //   }\r\n    // },\r\n    closeModal() {\r\n      this.$emit('close');\r\n    },\r\n    confirm() {\r\n    console.log('选择的笔记本:', this.selectedNotebook);\r\n    console.log('笔记名称:', this.noteName);\r\n\r\n    const notebook = this.notebooks.find(n => n.name === this.selectedNotebook);\r\n    if (notebook) {\r\n      this.$emit('close');\r\n      this.$router.push({ name: 'NoteCreate', params: { id: notebook.notebookId, noteName: this.noteName } });\r\n    }\r\n  }\r\n\r\n\r\n  },\r\n  //正式运行时，必须重新调用这个钩子\r\n  // mounted() {\r\n  //   this.fetchNotebooks();\r\n  // },\r\n};\r\n</script>\r\n\r\n<style>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 400px;\r\n  max-width: 100%;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.modal-body {\r\n  margin-top: 10px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n\r\n.form-group select,\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.modal-footer {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.confirm-button {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.confirm-button:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.close-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":";;EAAAA,GAAA;EAGsBC,KAAK,EAAC;;;EACnBA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;gCACvBC,mBAAA,CAAa,YAAT,MAAI;;EAGLD,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAsB,eAAf,SAAO;mBAXxB;;EAkBaD,KAAK,EAAC;AAAY;iCACrBC,mBAAA,CAAsB,eAAf,SAAO;;EAIbD,KAAK,EAAC;AAAc;;SApBlBE,MAAA,CAAAC,OAAO,I,cAAlBC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJJ,mBAAA,CAsBM,OAtBNK,UAsBM,GArBJL,mBAAA,CAGM,OAHNM,UAGM,GAFJC,UAAa,EACbP,mBAAA,CAA2D;IAAnDD,KAAK,EAAC,cAAc;IAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,GAAC,E,GAEpDV,mBAAA,CAaM,OAbNa,UAaM,GAZJb,mBAAA,CAOM,OAPNc,UAOM,GANJC,UAAsB,E,gBACtBf,mBAAA,CAIS;IAhBnB,uBAAAS,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAY2BC,KAAA,CAAAC,gBAAgB,GAAAF,MAAA;yBAC/Bb,mBAAA,CAESgB,SAAA,QAfrBC,WAAA,CAauCH,KAAA,CAAAI,SAAS,EAArBC,QAAQ;yBAAvBnB,mBAAA,CAES;MAF8BL,GAAG,EAAEwB,QAAQ,CAACC,UAAU;MAAGC,KAAK,EAAEF,QAAQ,CAACG;wBAC7EH,QAAQ,CAACG,IAAI,wBAd9BC,UAAA;2EAY2BT,KAAA,CAAAC,gBAAgB,E,KAMnClB,mBAAA,CAGM,OAHN2B,UAGM,GAFJC,WAAsB,E,gBACtB5B,mBAAA,CAAsC;IAA/B6B,IAAI,EAAC,MAAM;IApB5B,uBAAApB,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoBsCC,KAAA,CAAAa,QAAQ,GAAAd,MAAA;iDAARC,KAAA,CAAAa,QAAQ,E,OAGxC9B,mBAAA,CAEM,OAFN+B,WAEM,GADJ/B,mBAAA,CAA2D;IAAnDD,KAAK,EAAC,gBAAgB;IAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAqB,OAAA,IAAArB,QAAA,CAAAqB,OAAA,IAAAtB,IAAA,CAAO;KAAE,IAAE,E,SAxB1DuB,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}